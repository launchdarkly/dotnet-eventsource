version: 2.1

workflows:
  version: 2
  test:
    jobs:
      - test-netcore-2-1

jobs:
  test-netcore-2-1:
    docker:
      - image: mcr.microsoft.com/dotnet/core/sdk:2.1-focal
    steps:
      - run:
          name: install packages
          command: apt-get -q update && apt-get install -qy awscli
      - checkout
      - run: dotnet restore
      - run: dotnet build src/LaunchDarkly.EventSource -f netstandard2.0
      - run: dotnet test test/LaunchDarkly.EventSource.Tests/LaunchDarkly.EventSource.Tests.csproj -f netcoreapp2.1
